<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Parallel Q-Digest: Instructions for testing (LEGACY)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Parallel Q-Digest
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_serial-implementation_2INSTRUCTIONS.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Instructions for testing (LEGACY) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md3"></a></p>
<dl class="section warning"><dt>Warning</dt><dd>This document is kept only for documenting the steps we took as we started first working on the project. As of v1.0 these commands might not work, although it does not impact the main aim of the project (i.e., parallelization of a serial algorithm).</dd></dl>
<p>To test the implementation use the dedicated test module.</p>
<div class="fragment"><div class="line"># build the test</div>
<div class="line">make test-all</div>
<div class="line"> </div>
<div class="line"># run the binary executable</div>
<div class="line">bin/test</div>
<div class="line"> </div>
<div class="line"># clean the directory</div>
<div class="line">make clean</div>
<div class="line"> </div>
<div class="line"># clean files generated on cluster</div>
<div class="line">make clean-files-cluster</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Results of testing on QCore</h1>
<p>The following results have been obtained by running the dedicated test suite.</p>
<div class="fragment"><div class="line"># clean directory and prepare for new build</div>
<div class="line">make clean</div>
<div class="line"> </div>
<div class="line"># build executable test suite</div>
<div class="line">make test-core</div>
<div class="line"> </div>
<div class="line"># run the test</div>
<div class="line">bin/test_core</div>
<div class="line"> </div>
<div class="line"># or if using mpicc as the compiler</div>
<div class="line">mpirun -n 1 bin/test_core</div>
</div><!-- fragment --><div class="fragment"><div class="line">==== Testing log_2_ceil ====</div>
<div class="line">log_2_ceil tests passed</div>
<div class="line"> </div>
<div class="line">==== Testing create_node and delete_node ====</div>
<div class="line">Node creation/deletion passed</div>
<div class="line"> </div>
<div class="line">==== Testing QDigest create/delete ====</div>
<div class="line">QDigest create/delete passed</div>
<div class="line"> </div>
<div class="line">==== Testing insert and percentile ====</div>
<div class="line">Approx 50th percentile: 3</div>
<div class="line"> </div>
<div class="line">==== Testing insert_node and traversal ====</div>
<div class="line">2 2 1</div>
<div class="line">4 4 1</div>
<div class="line"> </div>
<div class="line">==== Testing expand_tree ====</div>
<div class="line">1 1 1</div>
<div class="line">3 3 1</div>
<div class="line">7 7 1</div>
<div class="line"> </div>
<div class="line">==== Testing compress_if_needed ====</div>
<div class="line">[TREE] num_nodes: 5, (N, K): (10, 1)</div>
<div class="line"> </div>
<div class="line">==== Testing merge ====</div>
<div class="line">After merge, q1 N = 4</div>
<div class="line">1 1 1</div>
<div class="line">2 2 1</div>
<div class="line">3 3 1</div>
<div class="line">4 4 1</div>
<div class="line"> </div>
<div class="line">==== Testing swap_q ====</div>
<div class="line"> </div>
<div class="line">All tests completed successfully.</div>
<div class="line">Process 51965 is not debuggable. Due to security restrictions, leaks can only show or save contents of readonly memory of restricted processes.</div>
<div class="line"> </div>
<div class="line">Process:         test_core [51965]</div>
<div class="line">Path:            /Users/USER/Desktop/*/test_core</div>
<div class="line">Load Address:    0x104274000</div>
<div class="line">Identifier:      test_core</div>
<div class="line">Version:         0</div>
<div class="line">Code Type:       ARM64</div>
<div class="line">Platform:        macOS</div>
<div class="line">Parent Process:  zsh [50026]</div>
<div class="line">Target Type:     corpse</div>
<div class="line"> </div>
<div class="line">Date/Time:       2025-11-12 22:08:50.930 +0100</div>
<div class="line">Launch Time:     2025-11-12 22:08:50.406 +0100</div>
<div class="line">OS Version:      macOS 26.0.1 (25A362)</div>
<div class="line">Report Version:  7</div>
<div class="line">Analysis Tool:   /usr/bin/leaks</div>
<div class="line"> </div>
<div class="line">Physical footprint:         912K</div>
<div class="line">Physical footprint (peak):  912K</div>
<div class="line">Idle exit:                  untracked</div>
<div class="line">----</div>
<div class="line"> </div>
<div class="line">leaks Report Version: 4.0</div>
<div class="line">Process 51965: 191 nodes malloced for 14 KB</div>
<div class="line">Process 51965: 7 leaks for 336 total leaked bytes.</div>
<div class="line"> </div>
<div class="line">    7 (336 bytes) &lt;&lt; TOTAL &gt;&gt;</div>
<div class="line"> </div>
<div class="line">      4 (192 bytes) ROOT CYCLE: 0x84d0001e0 [48]</div>
<div class="line">         3 (144 bytes) ROOT CYCLE: 0x84d000210 [48]</div>
<div class="line">            CYCLE BACK TO 0x84d0001e0 [48]</div>
<div class="line">            2 (96 bytes) ROOT CYCLE: 0x84d000240 [48]</div>
<div class="line">               1 (48 bytes) ROOT CYCLE: 0x84d000270 [48]</div>
<div class="line"> </div>
<div class="line">      3 (144 bytes) ROOT CYCLE: 0x84d000000 [48]</div>
<div class="line">         2 (96 bytes) ROOT CYCLE: 0x84d000030 [48]</div>
<div class="line">            CYCLE BACK TO 0x84d000000 [48]</div>
<div class="line">            1 (48 bytes) ROOT CYCLE: 0x84d000060 [48]</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Acknowledgments</h1>
<p>The current implementation uses portions of code that have been ported in C from a C++ implementation. The main repo that inspired the current work is available at: <span class="tt"><a href="https://github.com/dhruvbird/q-digest/tree/master">https://github.com/dhruvbird/q-digest/tree/master</a></span> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
